{"ast":null,"code":"// import React, { useEffect, useState } from 'react';\n// import axios from 'axios';\n// import { Link } from 'react-router-dom';\n// import CreateArticle from './CreateArticle';\n\n// function Article() {\n//     const [articles, setArticles] = useState([]);\n\n//     useEffect(() => {\n//         axios.get('http://localhost:7777/article/')\n//             .then(res => setArticles(res.data))\n//             .catch(err => console.log(err));\n//     }, []);\n\n//     const handleDelete = async (id) => {\n//         try {\n//             await axios.delete(`http://localhost:7777/article/${id}`);\n//             setArticles(articles.filter(article => article.arID !== id));\n//         } catch (err) {\n//             console.log(err);\n//         }\n//     }\n\n//     const handleAddArticle = (newArticle) => {\n//         setArticles([...articles, newArticle]);\n//     }\n\n//     return (\n//         <div className='article-container'>\n//             <CreateArticle onAddArticle={handleAddArticle} /><br />\n//             <h2>Liste des Articles</h2>\n//             <div className='table-responsive'>\n//                 <table className='table table-striped'>\n//                     <thead>\n//                         <tr>\n//                             <th>Id</th> \n//                             <th>Nom</th>\n//                             <th>Référence</th>\n//                             <th>Achat brut</th>\n//                             <th>Remise1</th>\n//                             <th>Prix d'achat AR1</th>\n//                             <th>Remise2</th>\n//                             <th>Achat AR2 HT</th>\n//                             <th>TVA</th>\n//                             <th>Prix TTC</th>\n//                             <th>Marge bénéficiaire</th>\n//                             <th>Vente HT</th>\n//                             <th>Vente TTC</th>\n//                             {/* <th>Modifier</th>\n//                             <th>Supprimer</th> */}\n//                         </tr>\n//                     </thead>\n//                     <tbody>\n//                         {articles.map(article => (\n//                             <tr key={article.arID}>\n//                                 <td>{article.arID}</td>\n//                                 <td>{article.arName}</td>\n//                                 <td>{article.ref}</td>\n//                                 <td>{article.prachat}</td>\n//                                 <td>{article.remise1}</td>\n//                                 <td>{article.prar1}</td>\n//                                 <td>{article.remise2}</td>\n//                                 <td>{article.prar2}</td>\n//                                 <td>{article.tva}%</td>\n//                                 <td>{article.achatc}</td>\n//                                 <td>{article.margeben}</td>\n//                                 <td>{article.prventeht}</td>\n//                                 <td>{article.prventettc}</td>\n//                                 {/* <td>\n//                                     <Link to={`updateAr/${article.arID}`} className='btn btn-primary'>Modifier</Link>\n//                                 </td>\n//                                 <td>\n//                                     <button className='btn btn-danger ms-2' onClick={() => handleDelete(article.arID)}>Supprimer</button>\n//                                 </td> */}\n//                             </tr>\n//                         ))}\n//                     </tbody>\n//                 </table>\n//             </div>\n//         </div>\n//     );\n// }\n\n// export default Article;\n// import React, { useEffect, useState } from 'react';\n\n// import React, { useEffect, useState } from 'react';\n// import axios from 'axios';\n// import { FaPlus } from 'react-icons/fa';\n// import { Modal  } from 'react-bootstrap'; // Importing the Modal component\n// import './Article.css'; // Importing the CSS file\n// import CreateArticle from './CreateArticle';\n\n// function Article() {\n//     const defaultColumns = ['arID', 'arName', 'ref', 'achatc', 'tva', 'prventettc'];\n//     const [articles, setArticles] = useState([]);\n//     const [selectedColumns, setSelectedColumns] = useState(defaultColumns);\n//     const [showPopup, setShowPopup] = useState(false); // State for showing the popup\n\n//     const additionalColumns = [\n//         { name: \"Prix d'achat AR1\", key: \"prar1\" },\n//         { name: \"Remise2\", key: \"remise2\" },\n//         { name: \"Achat AR2 HT\", key: \"prar2\" },\n//         { name: \"Marge bénéficiaire\", key: \"margeben\" },\n//         { name: \"Vente HT\", key: \"prventeht\" }\n//     ];\n\n//     // Retrieve selected columns from localStorage on component mount\n//     useEffect(() => {\n//         const savedColumns = JSON.parse(localStorage.getItem('selectedColumns'));\n//         if (savedColumns) {\n//             setSelectedColumns(savedColumns);\n//         }\n//     }, []);\n\n//     // Fetch articles from the API\n//     useEffect(() => {\n//         axios.get('http://localhost:7777/article/')\n//             .then(res => setArticles(res.data))\n//             .catch(err => console.log(err));\n//     }, []);\n\n//     // Save selected columns to localStorage whenever they change\n//     useEffect(() => {\n//         localStorage.setItem('selectedColumns', JSON.stringify(selectedColumns));\n//     }, [selectedColumns]);\n\n//     const handleDelete = async (id) => {\n//         try {\n//             await axios.delete(`http://localhost:7777/article/${id}`);\n//             setArticles(articles.filter(article => article.arID !== id));\n//         } catch (err) {\n//             console.log(err);\n//         }\n//     };\n\n//     const handleAddArticle = (newArticle) => {\n//         setArticles([...articles, newArticle]);\n//     };\n\n//     const handleColumnSelect = (colKey) => {\n//         if (!selectedColumns.includes(colKey)) {\n//             setSelectedColumns([...selectedColumns, colKey]);\n//         }\n//     };\n\n//     const handleRemoveColumn = (colKey) => {\n//         setSelectedColumns(selectedColumns.filter(col => col !== colKey));\n//     };\n\n//     return (\n//         <div className='article-container'>\n//             <CreateArticle onAddArticle={handleAddArticle} />\n//             {/* <h2>Liste des Articles</h2> */}\n//             <div className='table-responsive'>\n//                 <table className='table table-striped'>\n//                     <thead>\n//                         <tr>\n//                             {selectedColumns.map((colKey) => (\n//                                 <th key={colKey}>\n//                                     {colKey === 'arID' ? 'Id' :\n//                                         colKey === 'ref' ? 'Référence' :\n//                                             colKey === 'arName' ? 'Nom' :\n//                                                 colKey === 'achatc' ? 'Prix TTC' :\n//                                                     colKey === 'tva' ? 'TVA' :\n//                                                         colKey === 'prventettc' ? 'Vente TTC' :\n//                                                             additionalColumns.find(col => col.key === colKey).name}\n//                                     {additionalColumns.some(col => col.key === colKey) && (\n//                                         <button className=\"btn btn-link btn-sm\" onClick={() => handleRemoveColumn(colKey)}>×</button>\n//                                     )}\n//                                 </th>\n//                             ))}\n//                             <th>\n//                                 <div className='column-selector-container'>\n//                                     <button\n//                                         className='btn btn-secondary column-selector-btn'\n//                                         onClick={() => setShowPopup(true)} // Show popup when clicking on the plus icon\n//                                     >\n//                                         <FaPlus />\n//                                     </button>\n//                                     <Modal show={showPopup} onHide={() => setShowPopup(false)}>\n//                                         <Modal.Header closeButton>\n//                                             <Modal.Title>Ajouter des Colonnes</Modal.Title>\n//                                         </Modal.Header>\n//                                         <Modal.Body>\n//                                             <ul>\n//                                                 {additionalColumns.map((col) => (\n//                                                     <li key={col.key}>\n//                                                         <button\n//                                                             className='btn btn-link'\n//                                                             onClick={() => handleColumnSelect(col.key)}\n//                                                             disabled={selectedColumns.includes(col.key)}\n//                                                         >\n//                                                             {col.name}\n//                                                         </button>\n//                                                     </li>\n//                                                 ))}\n//                                             </ul>\n//                                         </Modal.Body>\n//                                     </Modal>\n//                                 </div>\n//                             </th>\n//                         </tr>\n//                     </thead>\n//                     <tbody>\n//                         {articles.map(article => (\n//                             <tr key={article.arID}>\n//                                 {selectedColumns.map((colKey) => (\n//                                     <td key={colKey}>{article[colKey]}</td>\n//                                 ))}\n//                             </tr>\n//                         ))}\n//                     </tbody>\n//                 </table>\n//             </div>\n//         </div>\n//     );\n// }\n\n// export default Article;","map":{"version":3,"names":[],"sources":["C:/Users/Dell/OneDrive/Bureau/quincaillerie/frontend/src/Article.js"],"sourcesContent":["// import React, { useEffect, useState } from 'react';\r\n// import axios from 'axios';\r\n// import { Link } from 'react-router-dom';\r\n// import CreateArticle from './CreateArticle';\r\n\r\n// function Article() {\r\n//     const [articles, setArticles] = useState([]);\r\n\r\n//     useEffect(() => {\r\n//         axios.get('http://localhost:7777/article/')\r\n//             .then(res => setArticles(res.data))\r\n//             .catch(err => console.log(err));\r\n//     }, []);\r\n\r\n//     const handleDelete = async (id) => {\r\n//         try {\r\n//             await axios.delete(`http://localhost:7777/article/${id}`);\r\n//             setArticles(articles.filter(article => article.arID !== id));\r\n//         } catch (err) {\r\n//             console.log(err);\r\n//         }\r\n//     }\r\n\r\n//     const handleAddArticle = (newArticle) => {\r\n//         setArticles([...articles, newArticle]);\r\n//     }\r\n\r\n//     return (\r\n//         <div className='article-container'>\r\n//             <CreateArticle onAddArticle={handleAddArticle} /><br />\r\n//             <h2>Liste des Articles</h2>\r\n//             <div className='table-responsive'>\r\n//                 <table className='table table-striped'>\r\n//                     <thead>\r\n//                         <tr>\r\n//                             <th>Id</th> \r\n//                             <th>Nom</th>\r\n//                             <th>Référence</th>\r\n//                             <th>Achat brut</th>\r\n//                             <th>Remise1</th>\r\n//                             <th>Prix d'achat AR1</th>\r\n//                             <th>Remise2</th>\r\n//                             <th>Achat AR2 HT</th>\r\n//                             <th>TVA</th>\r\n//                             <th>Prix TTC</th>\r\n//                             <th>Marge bénéficiaire</th>\r\n//                             <th>Vente HT</th>\r\n//                             <th>Vente TTC</th>\r\n//                             {/* <th>Modifier</th>\r\n//                             <th>Supprimer</th> */}\r\n//                         </tr>\r\n//                     </thead>\r\n//                     <tbody>\r\n//                         {articles.map(article => (\r\n//                             <tr key={article.arID}>\r\n//                                 <td>{article.arID}</td>\r\n//                                 <td>{article.arName}</td>\r\n//                                 <td>{article.ref}</td>\r\n//                                 <td>{article.prachat}</td>\r\n//                                 <td>{article.remise1}</td>\r\n//                                 <td>{article.prar1}</td>\r\n//                                 <td>{article.remise2}</td>\r\n//                                 <td>{article.prar2}</td>\r\n//                                 <td>{article.tva}%</td>\r\n//                                 <td>{article.achatc}</td>\r\n//                                 <td>{article.margeben}</td>\r\n//                                 <td>{article.prventeht}</td>\r\n//                                 <td>{article.prventettc}</td>\r\n//                                 {/* <td>\r\n//                                     <Link to={`updateAr/${article.arID}`} className='btn btn-primary'>Modifier</Link>\r\n//                                 </td>\r\n//                                 <td>\r\n//                                     <button className='btn btn-danger ms-2' onClick={() => handleDelete(article.arID)}>Supprimer</button>\r\n//                                 </td> */}\r\n//                             </tr>\r\n//                         ))}\r\n//                     </tbody>\r\n//                 </table>\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// }\r\n\r\n// export default Article;\r\n// import React, { useEffect, useState } from 'react';\r\n\r\n\r\n\r\n\r\n// import React, { useEffect, useState } from 'react';\r\n// import axios from 'axios';\r\n// import { FaPlus } from 'react-icons/fa';\r\n// import { Modal  } from 'react-bootstrap'; // Importing the Modal component\r\n// import './Article.css'; // Importing the CSS file\r\n// import CreateArticle from './CreateArticle';\r\n\r\n// function Article() {\r\n//     const defaultColumns = ['arID', 'arName', 'ref', 'achatc', 'tva', 'prventettc'];\r\n//     const [articles, setArticles] = useState([]);\r\n//     const [selectedColumns, setSelectedColumns] = useState(defaultColumns);\r\n//     const [showPopup, setShowPopup] = useState(false); // State for showing the popup\r\n\r\n//     const additionalColumns = [\r\n//         { name: \"Prix d'achat AR1\", key: \"prar1\" },\r\n//         { name: \"Remise2\", key: \"remise2\" },\r\n//         { name: \"Achat AR2 HT\", key: \"prar2\" },\r\n//         { name: \"Marge bénéficiaire\", key: \"margeben\" },\r\n//         { name: \"Vente HT\", key: \"prventeht\" }\r\n//     ];\r\n\r\n//     // Retrieve selected columns from localStorage on component mount\r\n//     useEffect(() => {\r\n//         const savedColumns = JSON.parse(localStorage.getItem('selectedColumns'));\r\n//         if (savedColumns) {\r\n//             setSelectedColumns(savedColumns);\r\n//         }\r\n//     }, []);\r\n\r\n//     // Fetch articles from the API\r\n//     useEffect(() => {\r\n//         axios.get('http://localhost:7777/article/')\r\n//             .then(res => setArticles(res.data))\r\n//             .catch(err => console.log(err));\r\n//     }, []);\r\n\r\n//     // Save selected columns to localStorage whenever they change\r\n//     useEffect(() => {\r\n//         localStorage.setItem('selectedColumns', JSON.stringify(selectedColumns));\r\n//     }, [selectedColumns]);\r\n\r\n//     const handleDelete = async (id) => {\r\n//         try {\r\n//             await axios.delete(`http://localhost:7777/article/${id}`);\r\n//             setArticles(articles.filter(article => article.arID !== id));\r\n//         } catch (err) {\r\n//             console.log(err);\r\n//         }\r\n//     };\r\n\r\n//     const handleAddArticle = (newArticle) => {\r\n//         setArticles([...articles, newArticle]);\r\n//     };\r\n\r\n//     const handleColumnSelect = (colKey) => {\r\n//         if (!selectedColumns.includes(colKey)) {\r\n//             setSelectedColumns([...selectedColumns, colKey]);\r\n//         }\r\n//     };\r\n\r\n//     const handleRemoveColumn = (colKey) => {\r\n//         setSelectedColumns(selectedColumns.filter(col => col !== colKey));\r\n//     };\r\n\r\n//     return (\r\n//         <div className='article-container'>\r\n//             <CreateArticle onAddArticle={handleAddArticle} />\r\n//             {/* <h2>Liste des Articles</h2> */}\r\n//             <div className='table-responsive'>\r\n//                 <table className='table table-striped'>\r\n//                     <thead>\r\n//                         <tr>\r\n//                             {selectedColumns.map((colKey) => (\r\n//                                 <th key={colKey}>\r\n//                                     {colKey === 'arID' ? 'Id' :\r\n//                                         colKey === 'ref' ? 'Référence' :\r\n//                                             colKey === 'arName' ? 'Nom' :\r\n//                                                 colKey === 'achatc' ? 'Prix TTC' :\r\n//                                                     colKey === 'tva' ? 'TVA' :\r\n//                                                         colKey === 'prventettc' ? 'Vente TTC' :\r\n//                                                             additionalColumns.find(col => col.key === colKey).name}\r\n//                                     {additionalColumns.some(col => col.key === colKey) && (\r\n//                                         <button className=\"btn btn-link btn-sm\" onClick={() => handleRemoveColumn(colKey)}>×</button>\r\n//                                     )}\r\n//                                 </th>\r\n//                             ))}\r\n//                             <th>\r\n//                                 <div className='column-selector-container'>\r\n//                                     <button\r\n//                                         className='btn btn-secondary column-selector-btn'\r\n//                                         onClick={() => setShowPopup(true)} // Show popup when clicking on the plus icon\r\n//                                     >\r\n//                                         <FaPlus />\r\n//                                     </button>\r\n//                                     <Modal show={showPopup} onHide={() => setShowPopup(false)}>\r\n//                                         <Modal.Header closeButton>\r\n//                                             <Modal.Title>Ajouter des Colonnes</Modal.Title>\r\n//                                         </Modal.Header>\r\n//                                         <Modal.Body>\r\n//                                             <ul>\r\n//                                                 {additionalColumns.map((col) => (\r\n//                                                     <li key={col.key}>\r\n//                                                         <button\r\n//                                                             className='btn btn-link'\r\n//                                                             onClick={() => handleColumnSelect(col.key)}\r\n//                                                             disabled={selectedColumns.includes(col.key)}\r\n//                                                         >\r\n//                                                             {col.name}\r\n//                                                         </button>\r\n//                                                     </li>\r\n//                                                 ))}\r\n//                                             </ul>\r\n//                                         </Modal.Body>\r\n//                                     </Modal>\r\n//                                 </div>\r\n//                             </th>\r\n//                         </tr>\r\n//                     </thead>\r\n//                     <tbody>\r\n//                         {articles.map(article => (\r\n//                             <tr key={article.arID}>\r\n//                                 {selectedColumns.map((colKey) => (\r\n//                                     <td key={colKey}>{article[colKey]}</td>\r\n//                                 ))}\r\n//                             </tr>\r\n//                         ))}\r\n//                     </tbody>\r\n//                 </table>\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// }\r\n\r\n// export default Article;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAKA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}